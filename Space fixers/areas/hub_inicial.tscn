[gd_scene load_steps=33 format=3 uid="uid://dybp4wtx5taxt"]

[ext_resource type="Script" uid="uid://cf75ypcjownw2" path="res://areas/hub_inicial.gd" id="1_pdqpn"]
[ext_resource type="Script" uid="uid://bhd6l723ee4o0" path="res://areas/Grupo de cajas.gd" id="2_di70x"]
[ext_resource type="PackedScene" uid="uid://b77hry0iav642" path="res://objetos/caja.tscn" id="2_ej7qp"]
[ext_resource type="Script" uid="uid://by1d10ubeuln2" path="res://objetos/caja.gd" id="3_5nkae"]
[ext_resource type="Script" uid="uid://wsf8nga64r7d" path="res://objetos/cajal.gd" id="3_6gcvc"]
[ext_resource type="Material" uid="uid://hmgco1m6sabg" path="res://Assets/Nave exterior.tres" id="6_24wdl"]
[ext_resource type="PackedScene" uid="uid://ghh0bsqafo2k" path="res://objetos/Mancha generica.tscn" id="7_hi00n"]
[ext_resource type="Script" uid="uid://ir0df8vatwo8" path="res://areas/Control mancha.gd" id="7_ipshc"]
[ext_resource type="PackedScene" uid="uid://mlfpekhaxuu3" path="res://objetos/obstaculos/cubo_sucio.tscn" id="9_0netx"]
[ext_resource type="PackedScene" uid="uid://csjgp5nqh11bb" path="res://objetos/obstaculos/cubo_electrico.tscn" id="10_k2mbn"]
[ext_resource type="PackedScene" uid="uid://dikq5bn41ka7h" path="res://personajes/verde/verde.tscn" id="11_l6uvs"]
[ext_resource type="PackedScene" uid="uid://bhlne4h4kihi0" path="res://objetos/obstaculos/cubo_acido.tscn" id="11_rkh7q"]

[sub_resource type="BoxShape3D" id="BoxShape3D_72ngr"]
size = Vector3(100, 1, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_03cai"]
albedo_color = Color(0.207843, 0.439216, 0.278431, 1)

[sub_resource type="BoxMesh" id="BoxMesh_wascq"]
material = SubResource("StandardMaterial3D_03cai")
size = Vector3(100, 1, 100)

[sub_resource type="ORMMaterial3D" id="ORMMaterial3D_x3qib"]
albedo_color = Color(0.313726, 0.541176, 0.8, 1)

[sub_resource type="BoxMesh" id="BoxMesh_ravvc"]
material = SubResource("ORMMaterial3D_x3qib")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_imb4h"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_gua4v"]

[sub_resource type="BoxShape3D" id="BoxShape3D_t4tgi"]
size = Vector3(0.864, 8.5, 3.5)

[sub_resource type="BoxMesh" id="BoxMesh_wqyty"]
material = ExtResource("6_24wdl")

[sub_resource type="BoxShape3D" id="BoxShape3D_0715m"]
size = Vector3(0.864, 8.5, 25.6)

[sub_resource type="BoxMesh" id="BoxMesh_u1672"]
material = ExtResource("6_24wdl")

[sub_resource type="PrismMesh" id="PrismMesh_f2y7r"]
left_to_right = -1.0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_nyomy"]
points = PackedVector3Array(-1.5, 0.5, 0.5, -1.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_p8qr7"]
material = ExtResource("6_24wdl")

[sub_resource type="BoxShape3D" id="BoxShape3D_61x80"]
size = Vector3(1, 8.9, 41.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_tdvfb"]
size = Vector3(0.864, 8.5, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_2r1fk"]
size = Vector3(0.864, 8.5, 15)

[sub_resource type="BoxShape3D" id="BoxShape3D_05vdw"]
size = Vector3(0.864, 8.5, 15)

[sub_resource type="BoxMesh" id="BoxMesh_15g7b"]
material = ExtResource("6_24wdl")

[sub_resource type="BoxMesh" id="BoxMesh_yxu0n"]
material = ExtResource("6_24wdl")

[node name="Node" type="Node"]
script = ExtResource("1_pdqpn")

[node name="StaticBody3D" type="StaticBody3D" parent="."]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_72ngr")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_wascq")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.983547, -0.174486, 0.0468022, 0.147233, 0.924344, 0.352009, -0.104682, -0.339326, 0.934826, 0, 2.39386, -38.0182)

[node name="Grupo de cajas" type="Node3D" parent="."]
script = ExtResource("2_di70x")

[node name="Caja4" parent="Grupo de cajas" groups=["cajas"] instance=ExtResource("2_ej7qp")]
transform = Transform3D(0.941902, 0.278274, 0.188106, -0.146052, 0.843624, -0.51669, -0.302472, 0.459198, 0.835253, 4.5995, 6.20584, -30.7467)
collision_layer = 7
collision_mask = 6
script = ExtResource("3_5nkae")

[node name="Caja5" parent="Grupo de cajas" groups=["cajas"] instance=ExtResource("2_ej7qp")]
transform = Transform3D(0.941902, 0.278274, 0.188106, -0.146052, 0.843624, -0.51669, -0.302472, 0.459198, 0.835253, 4.5995, 6.20584, -39.9437)
collision_layer = 7
collision_mask = 6

[node name="Caja2" parent="Grupo de cajas" groups=["cajas"] instance=ExtResource("2_ej7qp")]
transform = Transform3D(1, 0.000558469, 0, -0.000558469, 1, 0, 0, 0, 1, 4.60238, 5.0256, -37.7932)
collision_layer = 7
collision_mask = 6
script = ExtResource("3_6gcvc")

[node name="Caja3" parent="Grupo de cajas" groups=["cajas"] instance=ExtResource("2_ej7qp")]
transform = Transform3D(1, 0.000558469, 0, -0.000558469, 1, 0, 0, 0, 1, 4.60238, 5.0256, -33.311)
collision_layer = 7
collision_mask = 6
script = ExtResource("3_6gcvc")

[node name="Nave" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 29.5741)

[node name="Piso" type="StaticBody3D" parent="Nave"]
transform = Transform3D(2.98775e-06, -0.977955, -0.00173805, 0.995101, -4.27478e-08, 0.00173806, -0.00173678, -0.00170686, 0.995831, -0.54502, 4.3647, 27.8426)
collision_layer = 5
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Piso"]
transform = Transform3D(0.431416, 1.01863e-10, -2.6077e-08, -2.16005e-12, 42.4254, 3.72529e-08, 5.82077e-10, 8.19564e-08, 25.77, 0.685277, 0.0654815, -36.8443)
mesh = SubResource("BoxMesh_ravvc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Piso"]
transform = Transform3D(0.431416, 1.01863e-10, -2.98023e-08, -1.93268e-12, 42.4254, 3.72529e-08, 5.82077e-10, 7.45058e-08, 25.77, 0.685277, 0.0654815, -36.8443)
shape = SubResource("ConvexPolygonShape3D_imb4h")

[node name="Pared_interna_iz_1" type="StaticBody3D" parent="Nave"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.2, 9.4, -19.7566)
collision_layer = 6
collision_mask = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Pared_interna_iz_1"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 3.5, 0, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Pared_interna_iz_1"]
shape = SubResource("BoxShape3D_t4tgi")

[node name="Pared7" type="StaticBody3D" parent="Nave"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.738, 9.4, -8.85)
collision_layer = 6
collision_mask = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Pared7"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 25.6, 0, 0, 0)
mesh = SubResource("BoxMesh_wqyty")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Pared7"]
shape = SubResource("BoxShape3D_0715m")

[node name="Pared8" type="StaticBody3D" parent="Nave"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.999, 9.4, -8.9)
collision_layer = 6
collision_mask = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Pared8"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 25.6, 0, 0, 0.102345)
mesh = SubResource("BoxMesh_u1672")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Pared8"]
shape = SubResource("BoxShape3D_0715m")

[node name="Rampa" type="StaticBody3D" parent="Nave"]
transform = Transform3D(8.76069, 0, 0, 0, 6.18783, 0, 0, 0, 10.0711, 0.074, 2.863, 6.53)
collision_layer = 7
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Rampa"]
transform = Transform3D(-2.83455e-08, 0, 0.959043, 0, 0.763667, 0, -0.64847, 0, -4.19211e-08, -0.0638903, 0, -3.77499)
mesh = SubResource("PrismMesh_f2y7r")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Nave/Rampa"]
transform = Transform3D(-2.83455e-08, 0, 0.959043, 0, 0.763667, 0, -0.64847, 0, -4.19211e-08, -0.0638903, 0, -3.77499)
shape = SubResource("ConvexPolygonShape3D_nyomy")

[node name="Pared_externa1" type="StaticBody3D" parent="Nave"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.546112, 9.19773, 4.46661)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Pared_externa1"]
transform = Transform3D(-4.37114e-08, 0, 41.5, 0, 8.9, 0, -1, 0, -1.81402e-06, 0, 0, 0)
mesh = SubResource("BoxMesh_p8qr7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Pared_externa1"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
shape = SubResource("BoxShape3D_61x80")

[node name="Paredes internas" type="Node3D" parent="Nave"]

[node name="Pared_interna_iz_3" type="StaticBody3D" parent="Nave/Paredes internas"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.47457, 9.4, 1.73271)
collision_layer = 6
collision_mask = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Paredes internas/Pared_interna_iz_3"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 4.5, 0, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Paredes internas/Pared_interna_iz_3"]
shape = SubResource("BoxShape3D_t4tgi")

[node name="Pared_interna_der_3" type="StaticBody3D" parent="Nave/Paredes internas"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.01793, 9.4, 1.73271)
collision_layer = 6
collision_mask = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Paredes internas/Pared_interna_der_3"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 4.5, 0, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Paredes internas/Pared_interna_der_3"]
shape = SubResource("BoxShape3D_t4tgi")

[node name="Pared_interna_der_2" type="StaticBody3D" parent="Nave/Paredes internas"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.2, 9.4, -19.338)
collision_layer = 6
collision_mask = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Paredes internas/Pared_interna_der_2"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 4.5, 0, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Paredes internas/Pared_interna_der_2"]
shape = SubResource("BoxShape3D_t4tgi")

[node name="Pared_interna_iz_2" type="StaticBody3D" parent="Nave/Paredes internas"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5, 9.4, -8.88643)
collision_layer = 7
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Paredes internas/Pared_interna_iz_2"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 10, 0, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Paredes internas/Pared_interna_iz_2"]
shape = SubResource("BoxShape3D_tdvfb")

[node name="Pared_interna_der_1" type="StaticBody3D" parent="Nave/Paredes internas"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.19256, 9.4, -8.88643)
collision_layer = 7
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Paredes internas/Pared_interna_der_1"]
transform = Transform3D(0.864, -0.00311541, 0, 0.000316673, 8.5, 0, 0, 0, 11.3889, 0, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Paredes internas/Pared_interna_der_1"]
shape = SubResource("BoxShape3D_tdvfb")

[node name="Pared_externa_iz" type="StaticBody3D" parent="Nave/Paredes internas"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 11.7098, 9.4, -9.24287)
collision_layer = 7
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Paredes internas/Pared_externa_iz"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 15, 0, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Paredes internas/Pared_externa_iz"]
shape = SubResource("BoxShape3D_2r1fk")

[node name="Pared_externa_der" type="StaticBody3D" parent="Nave/Paredes internas"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -13.251, 9.4, -10.0065)
collision_layer = 7
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Paredes internas/Pared_externa_der"]
transform = Transform3D(0.9, 0, 0, 0, 8.5, 0, 0, 0, 16, -0.0966759, 0, 0)
mesh = SubResource("BoxMesh_gua4v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Paredes internas/Pared_externa_der"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.750783)
shape = SubResource("BoxShape3D_05vdw")

[node name="Pared_externa_iz" type="StaticBody3D" parent="Nave"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 11.7098, 9.4, -21.1829)
collision_layer = 7
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Pared_externa_iz"]
transform = Transform3D(0.864, 0, 0, 0, 8.5, 0, 0, 0, 15, 0, 0, 0)
mesh = SubResource("BoxMesh_15g7b")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Pared_externa_iz"]
shape = SubResource("BoxShape3D_2r1fk")

[node name="Pared_externa_der" type="StaticBody3D" parent="Nave"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -13.251, 9.4, -21.2)
collision_layer = 7
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Nave/Pared_externa_der"]
transform = Transform3D(0.9, 0, 0, 0, 8.5, 0, 0, 0, 16, -0.0966759, 0, 0)
mesh = SubResource("BoxMesh_yxu0n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Nave/Pared_externa_der"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.369555)
shape = SubResource("BoxShape3D_05vdw")

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.939561, 2.96461e-08, -0.342381, 0.055566, -0.986743, 0.152484, -0.337842, -0.162293, -0.927105, 0, 24.1853, 0)

[node name="Timer" type="Timer" parent="."]
autostart = true

[node name="Control mancha" type="Node3D" parent="."]
script = ExtResource("7_ipshc")

[node name="Mancha" parent="Control mancha" groups=["manchas"] instance=ExtResource("7_hi00n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00594425, 0.505, -35.4898)
collision_mask = 0

[node name="Mancha2" parent="Control mancha" groups=["manchas"] instance=ExtResource("7_hi00n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.68011, 0.505, -35.4543)
collision_layer = 24
collision_mask = 32

[node name="Mancha3" parent="Control mancha" groups=["manchas"] instance=ExtResource("7_hi00n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.73103, 0.505, -35.4543)
collision_layer = 24
collision_mask = 32

[node name="Cubo_sucio" parent="." instance=ExtResource("9_0netx")]
transform = Transform3D(0.999722, 0, -0.0235772, 0, 1, 0, 0.0235772, 0, 0.999722, -6.82988, 2.40086, -41.1035)

[node name="cubo_electrico" parent="." instance=ExtResource("10_k2mbn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 2, -43)

[node name="cuboAcido" parent="." instance=ExtResource("11_rkh7q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.05, -26.4497)

[node name="Astronaut_FinnTheFrog" parent="." instance=ExtResource("11_l6uvs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.08662, -39.4829)

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
spawn_path = NodePath("..")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Host" type="Button" parent="CanvasLayer"]
offset_left = -2.0
offset_right = 116.0
offset_bottom = 103.0
text = "Host"

[node name="Join" type="Button" parent="CanvasLayer"]
offset_top = 240.0
offset_right = 114.0
offset_bottom = 335.0
text = "Join"

[connection signal="levantado" from="Grupo de cajas" to="Astronaut_FinnTheFrog" method="_on_grupo_de_cajas_levantado"]
[connection signal="recogiendo" from="Astronaut_FinnTheFrog" to="Grupo de cajas" method="_on_astronaut_finn_the_frog_recogiendo"]
[connection signal="pressed" from="CanvasLayer/Host" to="." method="_on_host_pressed"]
[connection signal="pressed" from="CanvasLayer/Join" to="." method="_on_join_pressed"]
